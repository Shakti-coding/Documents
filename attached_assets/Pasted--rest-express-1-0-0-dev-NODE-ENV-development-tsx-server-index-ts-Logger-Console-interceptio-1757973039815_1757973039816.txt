
> rest-express@1.0.0 dev
> NODE_ENV=development tsx server/index.ts

üîç Logger: Console interception enabled - capturing ALL application logs
‚úÖ Loaded persistent live cloning settings: {
  botEnabled: true,
  filterWords: true,
  addSignature: true,
  signature: 'Final testbbb',
  sessionString: '1BVtsOMQBu...[REDACTED]'
}
[2025-09-15 21:47:53] INFO    üîß Starting automatic setup...
[2025-09-15 21:47:54] INFO    ‚úÖ Database connection verified
[2025-09-15 21:47:54] INFO    üîß Ensuring text_memos schema is up to date...
[2025-09-15 21:47:54] INFO    ‚úÖ text_memos schema is ready
[2025-09-15 21:47:54] INFO    ‚úÖ All directories created/verified
[2025-09-15 21:47:54] INFO    ‚úÖ All required packages are available
[2025-09-15 21:47:54] DEBUG   ‚úÖ Node.js version: OK
[2025-09-15 21:47:54] DEBUG   ‚úÖ File system write access: OK
[2025-09-15 21:47:54] DEBUG   ‚úÖ Downloads directory: OK
[2025-09-15 21:47:54] INFO    ‚úÖ Environment verification completed
[2025-09-15 21:47:54] INFO    ‚úÖ Automatic setup completed successfully
9:47:54 PM [express] serving on port 5000
üöÄ Starting Live Cloning service for 24/7 always-running architecture...
üìã Loaded persistent settings for auto-start: {
  botEnabled: true,
  filterWords: true,
  addSignature: true,
  signature: 'Final testbbb',
  sessionString: '1BVtsOKsBu7_Sm6oqn7q_JG49VDr6uuMQDasC2-xXy1nYvv-stWa14npRKMV4rTQU2Q7CgL5VtnJodONQmvfAzo5Oj07EImJtk3pVlVa7fP8D-IKJQ4pK3_MzlhX6PHYtYWA_GFjLwbxVI6pwb9XHJEtswyfKP0LqQrbhvkZ7YNCpoGIE9-9Sg1l0F2jTnkjTc3II0puNnLtrmyvHuOR8SlqqhCzzaX9OOBxLq2TZh46rL9WGaN2ieZy_M2k0r-7Ax1ryuax4j93mKt8ulGG6tRinvzog08cABAIJawjVDmh-Rv-sxFqgmjJ2RvqfffKidfmLu8932t0vtvJgTYW21CxfLjB3ny0='
}
üìù Using persistent config session string
üìé Loaded 6 entity links from Python config.json
üìé Total loaded for auto-start: 6 entity links and 0 word filters
Console WebSocket client connected
üîÑ Starting Live Cloning Python process for 24/7 operation...
‚úÖ Live Cloning 24/7 service started successfully!
üìä Running with 6 entity links and bot enabled: true
üåü Service will run continuously until server shutdown
üîÑ Live Cloning (24/7): [2025-09-15 21:48:02,454] DEBUG: Using selector: EpollSelector
[2025-09-15 21:48:02,462] INFO: 
================================================================================
[2025-09-15 21:48:02,462] INFO:                               SYSTEM INFORMATION                              
[2025-09-15 21:48:02,462] INFO: ================================================================================
[2025-09-15 21:48:02,462] INFO: Python Version: 3.11.13
[2025-09-15 21:48:02,564] INFO: Platform: Linux-6.2.16-x86_64-with-glibc2.40
[2025-09-15 21:48:02,577] INFO: Architecture: ('64bit', '')
[2025-09-15 21:48:02,578] INFO: Machine: x86_64
[2025-09-15 21:48:02,578] INFO: Node: 27766be824ba
[2025-09-15 21:48:02,578] INFO: System: Linux
[2025-09-15 21:48:02,578] INFO: Processor: 
[2025-09-15 21:48:02,578] INFO: Current Working Directory: /home/runner/workspace/bot_source/live-cloning
[2025-09-15 21:48:02,578] INFO: Script Location: /home/runner/workspace/bot_source/live-cloning/enhanced_logger.py
[2025-09-15 21:48:02,579] INFO: Python Executable: /home/runner/workspace/.pythonlibs/bin/python3
[2025-09-15 21:48:02,579] INFO: 
================================================================================
[2025-09-15 21:48:02,579] INFO:                             ENVIRONMENT VARIABLES                             
[2025-09-15 21:48:02,579] INFO: ================================================================================
[2025-09-15 21:48:02,579] INFO: TG_API_ID: 28403662
[2025-09-15 21:48:02,579] INFO: TG_API_HASH: 079509d4...
[2025-09-15 21:48:02,579] INFO: LIVE_CLONING_INSTANCE_ID: live_cloning_auto_1757972874936
[2025-09-15 21:48:02,581] INFO: NODE_ENV: development
[2025-09-15 21:48:02,581] INFO: PATH: /home/runner/workspace/node_modules/.bin:/home/runner/node_modules/.bin:/home/node_modules/.bin:/node_modules/.bin:/nix/store/lz7iav1hd92jbv44zf2rdd7b2mj23536-nodejs-20.19.3/lib/node_modules/npm/node_modules/@npmcli/run-script/lib/node-gyp-bin:/nix/store/mxcq77rlan82dzpv3cgj0fh6qvv8ncil-bzip2-1.0.8-bin/bin:/nix/store/lmci3q5pnjkas9d2x81kd05jgmiffkn3-tk-8.6.13/bin:/nix/store/0xj7i7pnp1xyk09qg8dgsvl60gz1psyl-brotli-1.1.0/bin:/nix/store/0g1s8yd0biawp32fl3i7kdbi219jx6aq-openssh-9.7p1/bin:/nix/store/6i4xxaa812vsbli9jkq4mksdddrk27lw-xz-5.4.6-bin/bin:/nix/store/aa0kd17cjag4j4jfjdyiq1f1rf9nk2gm-gh-2.49.2/bin:/nix/store/ic7bslpvcsh3888azrf8sxz1xzc42jwq-libjpeg-turbo-3.0.3-bin/bin:/nix/store/lg6c3mlv18qhvsiwf0yl27ryq016w0cz-libwebp-1.4.0/bin:/nix/store/n0g1wrj6h8g5knynm8i3832ps41snada-fontconfig-2.15.0-bin/bin:/nix/store/a6yfhfzpmvz8v73796djqk811p4b6wan-freetype-2.13.2-dev/bin:/nix/store/1rdmf4lap3f82pqdlmrgj1vjs08dk5xw-libpng-apng-1.6.43-dev/bin:/nix/store/8nfjxqhnqb1h4wsd07pz8ph81kskw65q-nano-8.0/bin:/nix/store/bhkrx8pzqy12v6jmil17lkl8zgcyck0l-lcms2-2.16-bin/bin:/nix/store/qannz09m66qpcy3ny1f4nkl4ql0g71ks-openssl-3.0.13-bin/bin:/nix/store/z8dx4c6z528qi2w1p38yzg17g8q5jnln-cargo-1.77.2/bin:/nix/store/p16s3zg96afj68mfp17m03svhwmdgcz8-tcl-8.6.13/bin:/nix/store/lja3blbngvaiik9bxifdlypilh4glzhw-openjpeg-2.5.2/bin:/nix/store/p2rq6p1k69hsb53mq0q8dxk32f7vs4p3-railway-3.7.0/bin:/nix/store/j2zdy07sb5nbiskhp5g79c93rj9076n0-rustc-wrapper-1.77.2/bin:/nix/store/0kv8fh7h31jzp0ran1p772zfjm8znf7j-libtiff-4.6.0-bin/bin:/nix/store/cm58jpx9hqzpg0g1azm1pnif0fifk310-libdeflate-1.20/bin:/nix/store/djy8g4cghlw19fmy6zblim1waxkr7mf2-npx/bin:/home/runner/workspace/.config/npm/node_global/bin:/home/runner/workspace/node_modules/.bin:/nix/store/8y4ls7z2sfxbq6ch3yp45l28p29qswvx-nodejs-20.19.3-wrapped/bin:/nix/store/nj22dzxzzx4m80lfa91fzqh8k9lvwigw-bun-1.2.16/bin:/nix/store/pciji08qkvcg3191yykpfipdcbbic9k5-pnpm-10.12.4/bin:/nix/store/6mzbvyzh4dfgfab6lciclji7awp9w3c4-yarn-1.22.22/bin:/nix/store/gvg9vrp821nmnyf9pxig6pss1sjywd5w-prettier-3.5.3/bin:/home/runner/workspace/.pythonlibs/bin:/nix/store/2lcqw1d28vklbk8ikiwad28iq2smwndv-python-wrapped-0.1.0/bin:/nix/store/2qx6jrl9h5hwpsry3ilbiihgmrnrvp50-pip-wrapper/bin:/nix/store/mx06wb8qp5z14na666bwnm1f2mxxwzj0-poetry-wrapper/bin:/nix/store/w4ml96z06nzljipl8hjlfvwg4pkxknyx-uv-0.5.11/bin:/nix/store/w7ldv9b1vc48a235g7ib2kjyqlrzfv0s-postgresql-16.9/bin:/nix/store/ckxxssz70fkcr1fv5l4qn0mv1a66vc1i-pid1/bin:/nix/store/s7bk3jqgq54wriw50r9n4sip8j627nih-replit-runtime-path/bin:/home/runner/.nix-profile/bin:/home/runner/.local/bin:/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin
[2025-09-15 21:48:02,583] INFO: 
================================================================================
[2025-09-15 21:48:02,583] INFO:                             CONFIGURATION SOURCES                             
[2025-09-15 21:48:02,583] INFO: ================================================================================
[2025-09-15 21:48:02,583] INFO: Config File: config.json
[2025-09-15 21:48:02,583] INFO:   Full Path: /home/runner/workspace/bot_source/live-cloning/config.json
[2025-09-15 21:48:02,583] INFO:   Exists: True
[2025-09-15 21:48:02,584] INFO:   Content Keys: ['api_id', 'api_hash', 'bot_enabled', 'sudo', 'filter_words', 'add_signature', 'signature', 'entities', 'filters']
[2025-09-15 21:48:02,584] INFO:   API ID Source: 28403662
[2025-09-15 21:48:02,596] INFO:   API Hash Source: 079509d4...
[2025-09-15 21:48:02,596] INFO:   Entity Links Count: 6
[2025-09-15 21:48:02,596] INFO:   Entity Links: [[8154976061, 7634388518], [7521656991, 7634388518], [7521656991, 4949360302], [2644276726, 4679407328], [1322268110, 1662771631], [2207734172, 2235504754]]
[2025-09-15 21:48:02,597] INFO: 
[2025-09-15 21:48:02,597] INFO: Config File: ../config/live_cloning_persistent_settings.json
[2025-09-15 21:48:02,597] INFO:   Full Path: /home/runner/workspace/bot_source/config/live_cloning_persistent_settings.json
[2025-09-15 21:48:02,598] INFO:   Exists: False
[2025-09-15 21:48:02,598] INFO: 
[2025-09-15 21:48:02,599] INFO: Config File: ../config/bot-config.json
[2025-09-15 21:48:02,599] INFO:   Full Path: /home/runner/workspace/bot_source/config/bot-config.json
[2025-09-15 21:48:02,599] INFO:   Exists: False
[2025-09-15 21:48:02,599] INFO: 
[2025-09-15 21:48:02,599] INFO: Config File: plugins/jsons/config.json
[2025-09-15 21:48:02,599] INFO:   Full Path: /home/runner/workspace/bot_source/live-cloning/plugins/jsons/config.json
[2025-09-15 21:48:02,599] INFO:   Exists: True
[2025-09-15 21:48:02,599] INFO:   Content Keys: ['api_id', 'api_hash', 'bot_enabled', 'sudo', 'filter_words', 'add_signature', 'signature']
[2025-09-15 21:48:02,599] INFO:   API ID Source: 
[2025-09-15 21:48:02,599] INFO:   API Hash Source: ...
[2025-09-15 21:48:02,599] INFO: 
[2025-09-15 21:48:02,599] INFO: Config File: plugins/jsons/entities.json
[2025-09-15 21:48:02,600] INFO:   Full Path: /home/runner/workspace/bot_source/live-cloning/plugins/jsons/entities.json
[2025-09-15 21:48:02,609] INFO:   Exists: True
[2025-09-15 21:48:02,609] INFO:   Content Keys: ['entities']
[2025-09-15 21:48:02,609] INFO:   Entity Links Count: 0
[2025-09-15 21:48:02,609] INFO:   Entity Links: []
[2025-09-15 21:48:02,609] INFO: 
[2025-09-15 21:48:02,610] INFO: üöÄ DIRECT AUTO-START - NO VALIDATION REQUIRED!
[2025-09-15 21:48:02,610] INFO: Connected Account: 28403662
[2025-09-15 21:48:02,610] INFO: Entity Links: 6
[2025-09-15 21:48:02,610] INFO: üöÄ STARTING LIVE CLONING - AUTO-START GUARANTEED!
[2025-09-15 21:48:02,610] INFO: 
================================================================================
[2025-09-15 21:48:02,610] INFO:                                CLIENT CREATION                                
[2025-09-15 21:48:02,610] INFO: ================================================================================
[2025-09-15 21:48:02,610] INFO: Creating TelegramClient with API ID: 28403662
[2025-09-15 21:48:02,610] INFO: API Hash: 079509d4...
[2025-09-15 21:48:02,610] INFO: Session String Length: 353
[2025-09-15 21:48:02,611] INFO: Connecting to 91.108.56.196:443/TcpFull...
[2025-09-15 21:48:02,611] DEBUG: Connection attempt 1...
[2025-09-15 21:48:02,675] DEBUG: Connection success!
[2025-09-15 21:48:02,675] DEBUG: Starting send loop
[2025-09-15 21:48:02,676] DEBUG: Starting receive loop
[2025-09-15 21:48:02,676] INFO: Connection to 91.108.56.196:443/TcpFull complete!
[2025-09-15 21:48:02,676] DEBUG: Waiting for messages to send...
[2025-09-15 21:48:02,676] DEBUG: Assigned msg_id = 7550436038150856908 to InvokeWithLayerRequest (7f214a43d690)
[2025-09-15 21:48:02,676] DEBUG: Encrypting 1 message(s) in 80 bytes for sending
[2025-09-15 21:48:02,676] DEBUG: Encrypted messages put in a queue to be sent
[2025-09-15 21:48:02,676] DEBUG: Waiting for messages to send...
[2025-09-15 21:48:02,676] DEBUG: Receiving items from the network...
[2025-09-15 21:48:02,741] DEBUG: Handling bad salt for message 7550436038150856908
[2025-09-15 21:48:02,741] DEBUG: 1 message(s) will be resent
[2025-09-15 21:48:02,741] DEBUG: Receiving items from the network...
[2025-09-15 21:48:02,741] DEBUG: Assigned msg_id = 7550436038410938200 to InvokeWithLayerRequest (7f214a43d690)
[2025-09-15 21:48:02,741] DEBUG: Encrypting 1 message(s) in 80 bytes for sending
[2025-09-15 21:48:02,741] DEBUG: Encrypted messages put in a queue to be sent
[2025-09-15 21:48:02,741] DEBUG: Waiting for messages to send...
[2025-09-15 21:48:02,741] DEBUG: Assigned msg_id = 7550436038412496504 to MsgsAck (7f214a43f0d0)
[2025-09-15 21:48:02,742] DEBUG: Encrypting 1 message(s) in 36 bytes for sending
[2025-09-15 21:48:02,742] DEBUG: Encrypted messages put in a queue to be sent
[2025-09-15 21:48:02,744] DEBUG: Waiting for messages to send...
[2025-09-15 21:48:02,807] DEBUG: Handling container
[2025-09-15 21:48:02,807] DEBUG: Handling new session created
[2025-09-15 21:48:02,807] DEBUG: Handling acknowledge for [7550436038410938200]
[2025-09-15 21:48:02,807] DEBUG: Receiving items from the network...
[2025-09-15 21:48:02,849] DEBUG: Handling update UpdateShort
[2025-09-15 21:48:02,849] DEBUG: Receiving items from the network...
[2025-09-15 21:48:02,849] DEBUG: Handling RPC result for message 7550436038410938200
[2025-09-15 21:48:02,850] DEBUG: Receiving items from the network...
[2025-09-15 21:48:02,850] DEBUG: Assigned msg_id = 7550436038846234256 to MsgsAck (7f214a43f5d0)
[2025-09-15 21:48:02,850] DEBUG: Encrypting 1 message(s) in 36 bytes for sending
[2025-09-15 21:48:02,850] DEBUG: Encrypted messages put in a queue to be sent
[2025-09-15 21:48:02,850] DEBUG: Waiting for messages to send...
[2025-09-15 21:48:02,851] DEBUG: Assigned msg_id = 7550436038849563536 to MsgsAck (7f214a43f490)
[2025-09-15 21:48:02,851] DEBUG: Encrypting 1 message(s) in 68 bytes for sending
[2025-09-15 21:48:02,851] ERROR: Failed to start client: The authorization key (session file) was used under two different IP addresses simultaneously, and can no longer be used. Use the same session exclusively, or use different sessions (caused by InvokeWithLayerRequest(InitConnectionRequest(GetConfigRequest)))
[2025-09-15 21:48:02,852] ERROR: CLIENT START FAILED: The authorization key (session file) was used under two different IP addresses simultaneously, and can no longer be used. Use the same session exclusively, or use different sessions (caused by InvokeWithLayerRequest(InitConnectionRequest(GetConfigRequest)))
[2025-09-15 21:48:02,852] ERROR: Error Type: AuthKeyDuplicatedError
[2025-09-15 21:48:02,853] INFO: Disconnecting from 91.108.56.196:443/TcpFull...
[2025-09-15 21:48:02,853] DEBUG: Closing current connection...
[2025-09-15 21:48:02,854] DEBUG: Encrypted messages put in a queue to be sent
[2025-09-15 21:48:02,872] DEBUG: Cancelling 0 pending message(s)...
[2025-09-15 21:48:02,873] INFO: Disconnection from 91.108.56.196:443/TcpFull complete!

üîÑ Live Cloning 24/7 process exited with code 0
9:48:05 PM [express] GET /api/console-logs/collections 304 in 148ms :: {"collections":[{"id":11,"nam‚Ä¶